<!doctype html>



  


<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">









  <meta name="baidu-site-verification" content="Wh9e8U7wdZ">







  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css">







  


<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="园子,web前端技术栈,web技术栈,Vue.js实战,微信小程序,React Native,Webpack,MVVM,React.js,Node.js,Redux,JavaScript,vue-router,react-router,小程序,跨端开发,react hooks,redux-saga,Web 前端实战,小程序实战,移动端实战,yuan blog">


<meta property="article:tag" content="Vue.js实战">
<meta property="article:tag" content="微信小程序">
<meta property="article:tag" content="React Native">
<meta property="article:tag" content="Webpack">
<meta property="article:tag" content="MVVM">
<meta property="article:tag" content="React.js">
<meta property="article:tag" content="Node.js">
<meta property="article:tag" content="Redux">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="react hooks">
<meta property="article:tag" content="redux-saga">
<meta property="article:tag" content="Web 前端">
<meta property="article:tag" content="移动端实战">
<meta property="article:tag" content="小程序实战">



  <link rel="alternate" href="/atom.xml" title="园子" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/bitbug_favicon.ico?v=5.1.0">






<meta name="description" content="前言：时代不断向前，时刻要跟上步伐，要不断保持学习。最新开始做新项目，基于前端工程化用到很多新知识，比如ES6；因此趁机学习补齐短板。 let, const定义变量123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051var fn 存在变量声明; 声明的变量会给win">
<meta property="og:type" content="article">
<meta property="og:title" content="学习ES6">
<meta property="og:url" content="http://blog.yuanbeauty.com/archives/768f3ad2.html">
<meta property="og:site_name" content="园子">
<meta property="og:description" content="前言：时代不断向前，时刻要跟上步伐，要不断保持学习。最新开始做新项目，基于前端工程化用到很多新知识，比如ES6；因此趁机学习补齐短板。 let, const定义变量123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051var fn 存在变量声明; 声明的变量会给win">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-19T16:00:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="学习ES6">
<meta name="twitter:description" content="前言：时代不断向前，时刻要跟上步伐，要不断保持学习。最新开始做新项目，基于前端工程化用到很多新知识，比如ES6；因此趁机学习补齐短板。 let, const定义变量123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051var fn 存在变量声明; 声明的变量会给win">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":true},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.yuanbeauty.com/archives/768f3ad2.html">





  <title> 学习ES6 - 园子 - 或许为了自身写，或许为了知己写！ </title>
</head>

<body lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>
    <a href="/" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>
    
    <header id="header" class="header page-post-detail">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">园子</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">或许为了自身写，或许为了知己写！</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      

        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页  
            
            
            
          </a>
        </li>
      

        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档  
            
            
              <span class="menu-num">19</span>
            
            
          </a>
        </li>
      

        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类  
            
            
              <span class="menu-num">24</span>
            
            
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.yuanbeauty.com/archives/768f3ad2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Changyuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/cc-bf-chglyn.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="园子">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                学习ES6
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-20T00:00:00+08:00">
                2017-12-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-20T00:00:00+08:00">
                2017-12-20
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/archives/768f3ad2.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                  
                    <span class="post-meta-item-text">字数统计</span>
                  
                    <span title="字数统计" }}">
                      5.5k 字
                    </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                  
                    <span class="post-meta-item-text">阅读时长大约</span>
                  
                    <span title="阅读时长大约" }}">
                      25 分钟
                    </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>前言：</strong><br>时代不断向前，时刻要跟上步伐，要不断保持学习。最新开始做新项目，基于前端工程化用到很多新知识，比如ES6；因此趁机学习补齐短板。</p>
<h3 id="let-const定义变量"><a href="#let-const定义变量" class="headerlink" title="let, const定义变量"></a>let, const定义变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">var fn 存在变量声明; 声明的变量会给window增加属性（全局作用域下）</span><br><span class="line">var 只会提前声明, fn 即声明又定义</span><br><span class="line"></span><br><span class="line">console.log(a, fn)</span><br><span class="line">var a;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line">console.log(window.a) //2</span><br><span class="line"></span><br><span class="line">//没有变量提升</span><br><span class="line">//不可以重复声明</span><br><span class="line">//不会给window增加属性</span><br><span class="line">console.log(a); //<span class="string">'a'</span> has already been declared</span><br><span class="line"><span class="built_in">let</span> a = 1;</span><br><span class="line">console.log(window.a) //undefined</span><br><span class="line"></span><br><span class="line">//没有变量提升</span><br><span class="line">//不可以重复声明</span><br><span class="line">//不会给window增加属性</span><br><span class="line">//定义变量一旦声明必须赋值</span><br><span class="line">//定义的是一个常量（不可以重新赋值）</span><br><span class="line">const a = 1;</span><br><span class="line"></span><br><span class="line">块级作用域</span><br><span class="line">	//在fn&#123;&#125; <span class="keyword">for</span>&#123;&#125; <span class="keyword">if</span>&#123;&#125; obj&#123;&#125;情况下, 一个&#123;&#125;就是一个块级作用域;</span><br><span class="line">	//在块级作用域下, var 和fn声明的变量依然是全局的</span><br><span class="line">	//在块级作用域下, <span class="built_in">let</span>和const声明的变量是私有的</span><br><span class="line">	// &#123;&#125; 想表示一个对象, 不可以放在行首</span><br><span class="line">	&#123;</span><br><span class="line">		var a = 0;</span><br><span class="line">		<span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;&#125;</span><br><span class="line">		<span class="built_in">let</span> b = 1;</span><br><span class="line">	&#125;</span><br><span class="line">	console.log(a); //0</span><br><span class="line">	fn();</span><br><span class="line">	console.log(b); // b not undefined</span><br><span class="line">	//&#123;name:<span class="string">'sunny'</span>&#125; 看成一个块级作用域</span><br><span class="line">	//转变 (&#123;name:<span class="string">'sunny'</span>&#125;) </span><br><span class="line">	console.log(<span class="built_in">eval</span>(<span class="string">'(&#123;name:'</span>sunny<span class="string">'&#125;)'</span>));</span><br><span class="line"></span><br><span class="line">	//<span class="function"><span class="title">if</span></span>()&#123;&#125; 中的fn只会提前声明不会定义, 当条件成立先给函数赋值, 代码再执行</span><br><span class="line">	console.log(a);</span><br><span class="line">	console.log(fn);</span><br><span class="line">	<span class="keyword">if</span>(1或0) &#123;</span><br><span class="line">		console.log(fn);</span><br><span class="line">		var a = 1;</span><br><span class="line">		<span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="title">for</span></span>() &#123;&#125; 点击li获取索引</span><br></pre></td></tr></table></figure>
<h3 id="结构赋值"><a href="#结构赋值" class="headerlink" title="结构赋值"></a>结构赋值</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [1, 2, 3, 4, 5];</span><br><span class="line">//<span class="built_in">let</span> x = arr[0];</span><br><span class="line">//<span class="built_in">let</span> y = arr[1];</span><br><span class="line">//<span class="built_in">let</span> z = arr[3];</span><br><span class="line"><span class="built_in">let</span>[x, y, z, m] = arr;</span><br><span class="line">console.log(x, y, z);</span><br><span class="line">//设置默认值 只有后面结构的值是undefined时候才会走默认值</span><br><span class="line"><span class="built_in">let</span>[x, y=10] = [1, 2];</span><br><span class="line">console.log(x, y); //1 2</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span>[x, y=10] = [1];</span><br><span class="line">console.log(x, y); //1 10</span><br><span class="line">//省略赋值</span><br><span class="line"><span class="built_in">let</span> [ , , z] = [1, 2, 3];</span><br><span class="line">console.log(z); //3</span><br><span class="line">//不定参数 将后面的项放在一个数组中赋值给y3</span><br><span class="line"><span class="built_in">let</span> [x, y, ...y3] = [1, 2, 3, 4];</span><br><span class="line">console.log(y3);// [3, 4]</span><br><span class="line">//对象的结构赋值 </span><br><span class="line">//如果变量名和属性名一样, 可以直接省略写法</span><br><span class="line"><span class="built_in">let</span> &#123;name&#125; = &#123;name:<span class="string">'sunny'</span>&#125;;</span><br><span class="line">console.log(name)</span><br><span class="line">//对象设置默认值</span><br><span class="line"><span class="built_in">let</span> &#123;name, age:18&#125; = &#123;name:<span class="string">'sunny'</span>, age:undefined&#125;;</span><br><span class="line">console.log(name, age); // sunny 18</span><br><span class="line">//嵌套</span><br><span class="line"><span class="built_in">let</span> &#123;name, age:18, list&#125; = &#123;name:<span class="string">'sunny'</span>, age:undefined, list:[<span class="string">'js'</span>, <span class="string">'vue'</span>]&#125;;</span><br><span class="line">console.log(name. age, x1, x2); //sunny 18 js vue</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> x, y;</span><br><span class="line">[x, y] = [1, 2];</span><br><span class="line">console.log(x, y); //1 2</span><br><span class="line">(&#123;x, y&#125; = &#123;x:1, y:2&#125;);</span><br><span class="line">console.log(x, y); //1 2</span><br><span class="line">//使用数组结构赋值, 如果等号右边不是一个数组, 默认将其转化为类数组</span><br><span class="line"><span class="built_in">let</span>[x, y] = <span class="string">'123'</span>;</span><br><span class="line">console.log(x, y); //1 2</span><br><span class="line">//使用对象结构赋值, 如果等号右边右边不是一个对象, 默认将其转化为对象</span><br><span class="line"><span class="built_in">let</span> &#123;a&#125; = 1;</span><br><span class="line">console.log(a); //undefined</span><br><span class="line">console.log(Object(a)); //&#123;__proto__:&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> &#123;length:a&#125; = <span class="string">'123'</span>;</span><br><span class="line">console.log(Object(<span class="string">'123'</span>));</span><br><span class="line">console.log(a);</span><br><span class="line"></span><br><span class="line">函数结构赋值</span><br><span class="line">	<span class="keyword">function</span> fn([x, y, ...z]) &#123;</span><br><span class="line">		console.log(x, y, z); //1, 2, [3, 4]</span><br><span class="line">	&#125;</span><br><span class="line">	fn(1, 2, 3, 4);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> fn(&#123;name=<span class="string">'cherry'</span>, age=18&#125;) &#123;</span><br><span class="line">		console.log(name, age); //sunny 18</span><br><span class="line">	&#125;</span><br><span class="line">	fn(&#123;name:<span class="string">'sunny'</span>&#125;);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> fn(&#123;name=<span class="string">'cherry'</span>, age=18&#125;=&#123;&#125;) &#123;</span><br><span class="line">		console.log(name, age); </span><br><span class="line">	&#125;</span><br><span class="line">	fn();//sunny 18</span><br><span class="line">	fn(&#123;&#125;);// sunny 18</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> fn(&#123;name, age&#125;=&#123;name:<span class="string">'sunny'</span>, age:18&#125;) &#123;</span><br><span class="line">		console.log(name, age); </span><br><span class="line">	&#125;</span><br><span class="line">	fn(); //sunny 18</span><br><span class="line">	fn(&#123;&#125;);//undefined undefined</span><br></pre></td></tr></table></figure>
<h3 id="字符串的扩展"><a href="#字符串的扩展" class="headerlink" title="字符串的扩展"></a>字符串的扩展</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">console.log(String.prototype);</span><br><span class="line">//include 返回值布尔 <span class="literal">true</span>/<span class="literal">false</span></span><br><span class="line">//片段字符串中有没有指定字符</span><br><span class="line">//includes(指定字符, 开始查找的位置(可选))</span><br><span class="line">//参数2 如果不是数字默认会转化为数字 Number方法转化</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'abc123'</span>;</span><br><span class="line">console.log(str.includes(<span class="string">'a'</span>)); //<span class="literal">true</span></span><br><span class="line">console.log(str.includes(<span class="string">'a'</span>, 2)); //<span class="literal">false</span></span><br><span class="line">console.log(str.includes(<span class="string">'a'</span>, null)); //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">//startsWith endsWith</span><br><span class="line">//startsWith 判断字符串是不是以指定字符作为开头</span><br><span class="line">//语法：startsWith(<span class="string">'指定字符'</span>, 开始查找的位置(可选))</span><br><span class="line">console.log(str.startsWith(<span class="string">'a'</span>)); //<span class="literal">true</span></span><br><span class="line">//endsWith 判断字符串是不是以指定字符作为结尾</span><br><span class="line">//语法： endsWith(<span class="string">'指定字符'</span>, n); n：从前n个中查看 </span><br><span class="line">console.log(str.startsWith(<span class="string">'c'</span>, 3)); //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">//repeat(n) 将字符串重复n次; n 取整 不可以是负数 Infinity</span><br><span class="line">//0到-1, 取整0</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'123'</span>; </span><br><span class="line">console.log(str.repeat(2)); //123123</span><br><span class="line"></span><br><span class="line">//padStart padEnd; 按照指定字符补全字符串的指定长度 (es7方法)</span><br><span class="line">//参数1：长度lenght, 参数2：指定字符</span><br><span class="line">//语法： padStart/padEnd(length, <span class="string">'指定字符'</span>)</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'ab'</span>;</span><br><span class="line">console.log(str.padStart(4, <span class="string">'jj'</span>)); //jab</span><br><span class="line">console.log(str.padStart(5, <span class="string">'cdef'</span>)); //cdeab</span><br></pre></td></tr></table></figure>
<h3 id="模版字符串"><a href="#模版字符串" class="headerlink" title="模版字符串"></a>模版字符串</h3><pre><code>let name = &apos;sunny&apos;;
document.body.innerHTML = `&lt;div&gt;${name}&lt;/div&gt;`;
</code></pre><h3 id="Array类上的扩展"><a href="#Array类上的扩展" class="headerlink" title="Array类上的扩展"></a>Array类上的扩展</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">console.dir(Array);</span><br><span class="line">//Array 类, 是一个函数; 返回一个数组</span><br><span class="line">//Array(x, y) 将参数变成一个数组返回 [x, y];</span><br><span class="line">//只有一个参数并且参数是个数字, 返回一个有n个空位的数组</span><br><span class="line">console.log(Array(<span class="string">'3'</span>)); //[<span class="string">'3'</span>]</span><br><span class="line">console.log(Array(3)); //[empty x 3]</span><br><span class="line"></span><br><span class="line">//Array.of() 跟Array一样, 唯一不同是： 参数是一个数字的时候返回是一个只有一项的数组</span><br><span class="line">console.log(Array.of(3)); //[3]</span><br><span class="line"></span><br><span class="line">//Array.from() 返回一个数组; 参数是 数组或类数组</span><br><span class="line">console.log(Array.from([123])); //[123]</span><br><span class="line">console.log(Array.from(<span class="string">'123'</span>)); //[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure>
<p>数组原型上的扩展方法 (所有数组实例方法 参数从索引n到索引m, 包n不包m)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">console.log(Array.prototype);</span><br><span class="line">//copyWithin 从原数组中读取内容, 替换数组的指定位置的内容</span><br><span class="line">//参数(替换的目标起始位置, 查找的起始位置, 查找的结束位置/默认到结尾)</span><br><span class="line">//原数组length不变, 如果有超出部分截取掉</span><br><span class="line"><span class="built_in">let</span> arr = [1, 2, 3, 4, 5, 6, 7, 8];</span><br><span class="line">console.log(arr.copyWithin(4, 2, 4)); //[1, 2, 3, 4, 3, 4, 7, 8]</span><br><span class="line">console.log(arr.copyWithin(3, 2)); //[1, 2, 3, 3, 4, 5, 6, 7]</span><br><span class="line"></span><br><span class="line">//includes 判断数组中有没有某一项, 参数2是开始查找的位置</span><br><span class="line">console.log([1, 2].include(1)); //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> arr = [1, 2, 3, 4]; </span><br><span class="line">//遍历数组的方法, 参数是一个函数, 自己函数中的this是window; 改变this指向, 可以通过第二个参数改变函数中的this</span><br><span class="line">//reduce, reduceRight不可以改变this, 第二参数给初始值赋值</span><br><span class="line"></span><br><span class="line">//fill 按照指定字符填充数组的指定位置(会改变原数组) </span><br><span class="line">//将数组的每一项都变成指定字符</span><br><span class="line">console.log(arr.fill(<span class="string">'sunny'</span>)); //[<span class="string">'sunny'</span>, <span class="string">'sunny'</span>, <span class="string">'sunny'</span>, <span class="string">'sunny'</span>]</span><br><span class="line">console.log(arr.fill(<span class="string">'sunny'</span>, 2, 3)); //[1, 2,<span class="string">'sunny'</span>, 4]</span><br><span class="line"></span><br><span class="line">//filter 遍历数组, 根据返回值去过滤原数组（原数组不变） es5</span><br><span class="line"><span class="built_in">let</span> arr = [<span class="string">'sunny'</span>, 1, 2, <span class="string">'sunny'</span>];</span><br><span class="line"><span class="built_in">let</span> newArr = arr.filter(<span class="keyword">function</span>(item, index) &#123;</span><br><span class="line">	//如果返回<span class="literal">true</span>留下当前项, 返回<span class="literal">false</span>不留下当前项;  结果返回一个新数组 </span><br><span class="line">	//<span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">	//<span class="built_in">return</span> <span class="literal">false</span></span><br><span class="line">	<span class="built_in">return</span> typeof item === <span class="string">'number'</span>;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(newArr); //[1, 2]</span><br><span class="line"></span><br><span class="line">//find 先遍历数组, 一旦参数函数返回<span class="literal">true</span>, 停止查找 返回当前项 (es6)</span><br><span class="line">//只会查找一个</span><br><span class="line"><span class="built_in">let</span> num = arr.find(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">	<span class="built_in">return</span> typeof item === <span class="string">'number'</span>;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(num); // 1</span><br><span class="line"></span><br><span class="line">//findIndex 先遍历数组, 一旦参数函数返回<span class="literal">true</span>, 停止查找 返回当前索引</span><br><span class="line">//只会查找一个</span><br><span class="line"><span class="built_in">let</span> index = arr.find(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">	<span class="built_in">return</span> typeof item === <span class="string">'string'</span>;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(index); // 0 </span><br><span class="line"></span><br><span class="line">//every 遍历数组, 如果遍历每一项都返回<span class="literal">true</span>, 最后结果为<span class="literal">true</span>; 只要有一个为<span class="literal">false</span>, 结果为<span class="literal">false</span></span><br><span class="line">   <span class="built_in">let</span> num = [1, 2, 3].every(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">   	<span class="built_in">return</span> item === <span class="string">'number'</span></span><br><span class="line">&#125;);</span><br><span class="line">console.log(num); //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">   <span class="built_in">let</span> num = [1, 2, 3, <span class="string">'sunny'</span>].every(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">   	<span class="built_in">return</span> item === <span class="string">'number'</span></span><br><span class="line">&#125;);</span><br><span class="line">console.log(num); //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//some 遍历数组, 只要有一项都是<span class="literal">true</span>, 结果为<span class="literal">true</span></span><br><span class="line">   <span class="built_in">let</span> num = [1, 2, 3, <span class="string">'sunny'</span>].some(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">   	<span class="built_in">return</span> item === <span class="string">'number'</span></span><br><span class="line">&#125;);</span><br><span class="line">console.log(num); //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">//reduce 迭代</span><br><span class="line"><span class="built_in">let</span> arr = [1, 2, 3];</span><br><span class="line"><span class="built_in">let</span> num = arr.reduce(<span class="keyword">function</span>(prev, item) &#123;</span><br><span class="line">	//prev 上一次的返回值</span><br><span class="line">	//item 当前项</span><br><span class="line">	console.log(prev);</span><br><span class="line">	//<span class="built_in">return</span> 1;</span><br><span class="line">	// <span class="built_in">return</span> prev + item;</span><br><span class="line">&#125;, n); // n初始的值</span><br><span class="line">console.log(num); // 1 1; 6</span><br><span class="line"></span><br><span class="line">//reduceRight 和reduce顺序相反</span><br><span class="line"></span><br><span class="line">//keys 遍历每一项的索引的接口 使用<span class="keyword">for</span> of遍历</span><br><span class="line">console.log([1, 2].keys());</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> key of arr.keys()) &#123;</span><br><span class="line">	console.log(key); //打印索引</span><br><span class="line">&#125;</span><br><span class="line">//<span class="keyword">for</span> of 遍历数组每一项的值; <span class="keyword">for</span> <span class="keyword">in</span> 遍历数组每一项的索引</span><br><span class="line"></span><br><span class="line">//entries 遍历接口 可以遍历到索引和每一项 每一次遍历得到一个数组[索引, 当前项]</span><br><span class="line">//一般可以通过数组的结构赋值获取到遍历的结果</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> [index, item] of arr.entries()) &#123;</span><br><span class="line">	console.log(index, item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>数组的空位 –&gt; 当前数组的某个索引位置 没有任何值, undefined不是空位<br>    //判断一个数组中某一个位置是不是空位 使用in方法判断<br>    //in 判断数组索引位置上有没有值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [, , , ,];</span><br><span class="line">console.log(arr.length); //4 --&gt; 查看有几个逗号</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> arr = [, undefined, , ,];</span><br><span class="line">console.log(1 <span class="keyword">in</span> arr); //<span class="literal">true</span></span><br><span class="line">console.log(0 <span class="keyword">in</span> arr); //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//es5中数组方法对空位处理不一致, 一般直接跳过空位</span><br><span class="line">//es6中将空位处理为undefined</span><br><span class="line"><span class="built_in">let</span> arr = [1, , , 3];</span><br><span class="line">arr.fillter(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">	console.log(item);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">arr.find(<span class="keyword">function</span>(item) &#123;</span><br><span class="line">	console.log(item);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> item of arr) &#123;</span><br><span class="line">	console.log(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//参数默认值</span><br><span class="line"><span class="keyword">function</span> fn(x=<span class="string">'sunny'</span>, y=<span class="string">'cherry'</span>) &#123;</span><br><span class="line">	console.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">fn(0); //0, cherry</span><br><span class="line"></span><br><span class="line">//参数使用结构赋值</span><br><span class="line"><span class="keyword">function</span> fn(&#123;name=<span class="string">'sunny'</span>, age=18&#125;) &#123;</span><br><span class="line">	//&#123;name=<span class="string">'sunny'</span>, age=18&#125; = undefined</span><br><span class="line">	console.log(name, age)</span><br><span class="line">&#125;</span><br><span class="line">fn(); //undefined undefined </span><br><span class="line"></span><br><span class="line">//length 如果形参有默认值length就会失真, 如果没有默认值就是形参的个数</span><br><span class="line"><span class="keyword">function</span> fn(x, y=10) &#123;&#125;</span><br><span class="line">fn(1, 2);</span><br><span class="line">//fn(, 2); 会报错; 参数默认值一般放在最后面</span><br><span class="line">console.log(fn.length); //1</span><br><span class="line"></span><br><span class="line">//arguments 是一个类数组</span><br><span class="line"><span class="keyword">function</span> fn(...arg) &#123;</span><br><span class="line">	console.log(arguments);</span><br><span class="line">	console.log(arg); //数组 [1, 2]</span><br><span class="line">&#125;</span><br><span class="line">fn(1, 2);</span><br><span class="line"></span><br><span class="line">有名函数的name</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;&#125;</span><br><span class="line">console.log(fn.name) // <span class="string">'fn'</span></span><br><span class="line">console.log((<span class="function"><span class="title">function</span></span>() &#123;&#125;())); // <span class="string">''</span></span><br><span class="line">//特殊情况</span><br><span class="line">//1. 通过<span class="built_in">bind</span>方法得到一个新函数, name是bound + 原函数名</span><br><span class="line"><span class="built_in">let</span> fn1 = fn.bind(null);</span><br><span class="line">console.log(fn1.name); //bound fn</span><br><span class="line"></span><br><span class="line">//2. 通过构造函数方式创建一个函数</span><br><span class="line">//new Functon(<span class="string">'形参'</span>, <span class="string">'函数体'</span>)</span><br><span class="line">//new Function(<span class="string">'函数体'</span>);</span><br><span class="line">// Function fn(形参) &#123; 函数体&#125;</span><br><span class="line"><span class="built_in">let</span> fn2 = new Function(<span class="string">'x, y'</span>, <span class="string">'console.log(x, y)'</span>, <span class="built_in">return</span> x + y);</span><br><span class="line">console.log(10, 100); // 10, 100; 110</span><br><span class="line">console.log(fn2.name);// 匿名</span><br><span class="line"></span><br><span class="line">//JSON字符串变成JSON对象 使用new Function()</span><br><span class="line">var str = <span class="string">'[&#123;name:"sunny"&#125;, &#123;age:18&#125;]'</span>;</span><br><span class="line"><span class="built_in">let</span> arr = (new Function(<span class="string">"return "</span>+str))();</span><br><span class="line">console.log(arr); //arr --&gt; [&#123;name:<span class="string">"sunny"</span>&#125;, &#123;age:18&#125;]</span><br></pre></td></tr></table></figure>
<h3 id="参数作用域问题"><a href="#参数作用域问题" class="headerlink" title="参数作用域问题"></a>参数作用域问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//函数执行时候先给形参赋值, 形参也是私有变量,</span><br><span class="line">//如果给形参的默认值是一个变量, 先看是不是自己的私有变量, 不是自己的, 查看在全局中是否有这个变量, 没有就报错</span><br><span class="line"><span class="built_in">let</span> m = 10, n =100;</span><br><span class="line"><span class="keyword">function</span> fn(x = m, y = n) &#123;</span><br><span class="line">	//私有作用域：私有变量 x, y, m, n</span><br><span class="line">	console.log(x, y);</span><br><span class="line">	<span class="built_in">let</span> m = <span class="string">'sunny'</span>;</span><br><span class="line">	//var m = <span class="string">'cherry'</span>;</span><br><span class="line">	<span class="built_in">let</span> n = 18</span><br><span class="line">&#125;</span><br><span class="line">fn(); // 10 100</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> x = 10;</span><br><span class="line"><span class="keyword">function</span> fn(x, y = x) &#123;</span><br><span class="line">	console.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">fn(1); // 1 1</span><br></pre></td></tr></table></figure>
<h3 id="扩展运算符-…"><a href="#扩展运算符-…" class="headerlink" title="扩展运算符 …"></a>扩展运算符 …</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//将非数组变成数组(类数组 length)</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'123'</span>;</span><br><span class="line">console.log([...str]);//[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;</span><br><span class="line">	console.log([...arguments]);</span><br><span class="line">&#125;</span><br><span class="line">fn(1, 2); // [1, 2]</span><br><span class="line">//将数组变成非数组</span><br><span class="line">var arr = [1, 2];</span><br><span class="line">console.log(...arr); 1 2</span><br><span class="line">//求数组最大值</span><br><span class="line"><span class="built_in">let</span> arr = [121, 123, 134];</span><br><span class="line">console.log(Math.max.apply(null, arr));</span><br><span class="line">console.log(<span class="built_in">eval</span>(<span class="string">"Math max("</span>+arr+<span class="string">")"</span>));</span><br><span class="line">console.log(Math.max(...arr));</span><br></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//箭头函数是匿名函数</span><br><span class="line">//函数体只有一行代码<span class="built_in">return</span> 可以省略</span><br><span class="line">//形参只有一个时候可以省略括号</span><br><span class="line">//语法：<span class="built_in">let</span> fn = (形参)=&gt;&#123; 函数体 &#125;</span><br><span class="line">//注意：</span><br><span class="line">//箭头函数没有this指向, 里面的this是上一级作用域下的this</span><br><span class="line">//箭头函数没有arguments</span><br><span class="line">	<span class="built_in">let</span> fn = (...arg)=&gt;&#123;</span><br><span class="line">		console.log(arg);</span><br><span class="line">	&#125;</span><br><span class="line">	fn(1, 2);</span><br><span class="line">//箭头函数不可以用作构造函数 因为不可以使用new执行</span><br><span class="line">	<span class="built_in">let</span> F = ()=&gt;&#123;&#125;</span><br><span class="line">	console.log(new F);//F not constructor</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> fn = x=&gt;x+1;  == <span class="built_in">let</span> fn = x=&gt;&#123;<span class="built_in">return</span> x+1&#125;</span><br><span class="line">//通常函数当做参数时使用箭头函数</span><br></pre></td></tr></table></figure>
<h3 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> name = <span class="string">'sunny'</span>, age = 18;</span><br><span class="line"><span class="built_in">let</span> person = &#123;name, age&#125; == person&#123;name:name, age:age&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'cherry'</span>;</span><br><span class="line"><span class="built_in">let</span> obj = &#123;</span><br><span class="line">	<span class="function"><span class="title">fn</span></span>() &#123;&#125;,</span><br><span class="line">	//fn: <span class="function"><span class="title">function</span></span>() &#123;&#125;</span><br><span class="line">	//属性名是字符串 属性名使用[] 里面放变量</span><br><span class="line">	[str]:name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//Object.is(参数1, 参数2) 判断两个值是否相等</span><br><span class="line">// -0 === 0 <span class="literal">true</span>   NaN === NaN <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">console.dir(Object);</span><br><span class="line"></span><br><span class="line">//Object.assign(参数1, 参数2) 合并对象  将参数2合并到参数1上 返回一个对象</span><br><span class="line"><span class="built_in">let</span> obj1 = &#123;name:<span class="string">'sunny'</span>&#125;;</span><br><span class="line"><span class="built_in">let</span> obj2 = &#123;age:18&#125;;</span><br><span class="line"><span class="built_in">let</span> person = Object.assign(obj1, obj2); //&#123;name:<span class="string">'sunny'</span>, age:18&#125;</span><br><span class="line"></span><br><span class="line">es7中提供了对象的扩展运算符...</span><br><span class="line"><span class="built_in">let</span> person = &#123;...obj1, ...obj2&#125;; //&#123;name:<span class="string">'sunny'</span>, age:18&#125;</span><br><span class="line"></span><br><span class="line">//Object.getOwnPropertyDescriptor 获取一个对象中某个描述</span><br><span class="line">console.log(Object.getOwnPropertyDescriptor(<span class="string">'123'</span>, <span class="string">'length'</span>));</span><br><span class="line"></span><br><span class="line">//字符串的length不可以修改, 字符串中的方法是不可以改变原字符串</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'123'</span>;</span><br><span class="line">str.length = 0;</span><br><span class="line">console.log(str); //123</span><br><span class="line">/*</span><br><span class="line">* configurable:<span class="literal">false</span> 是否可配置 可以删除这个属性</span><br><span class="line">* enumerable:<span class="literal">false</span> 是否枚举 (用<span class="keyword">for</span> <span class="keyword">in</span>遍历不出来)</span><br><span class="line">* value: 3</span><br><span class="line">* writeable: <span class="literal">false</span> 是否可以修改</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> person = &#123;name:<span class="string">'sunny'</span>, age:18&#125;;</span><br><span class="line"></span><br><span class="line">//Object.keys()  返回值是数组 [所有可枚举的属性]</span><br><span class="line">console.log(Object.keys(person)); //[<span class="string">'name'</span>, <span class="string">'age'</span>]</span><br><span class="line"></span><br><span class="line">//Object.values() 返回值是数组 [所有可枚举的属性的键值]</span><br><span class="line">console.log(Object.values(person)); // sunny 18</span><br><span class="line"></span><br><span class="line">//Object.entries() 返回值是数组 [每一项也是一个数组[键, 值]]</span><br><span class="line">console.log(Object.entries(person)); //[[<span class="string">'name'</span>, <span class="string">'sunny'</span>], [<span class="string">'age'</span>, <span class="string">'18'</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="对象的set和get"><a href="#对象的set和get" class="headerlink" title="对象的set和get"></a>对象的set和get</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> obj = &#123;</span><br><span class="line">	_name: <span class="string">'A'</span>,</span><br><span class="line">	get <span class="function"><span class="title">name</span></span>()&#123;</span><br><span class="line">		//通过obj获取name属性就会触发这个函数</span><br><span class="line">		//可以通过teturn获取返回值</span><br><span class="line">		//console.log(1);</span><br><span class="line">		<span class="built_in">return</span> this._name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">set</span> name(val) &#123;</span><br><span class="line">		//val 设置的值--&gt; 通过obj给name属性设置值就会触发这个函数</span><br><span class="line">		//console.log(2); this == obj</span><br><span class="line">		this._name = val;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj.name); // sunny</span><br><span class="line">obj.name = <span class="string">'cherry'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//Symbol 是一个新的基本数据类型  而且是一个值类型</span><br><span class="line">//使用Symbol函数执行 得到一个Symbol数据类型</span><br><span class="line">//Symbol跟字符串类型差不多 但是使用Symbol函数得到一个数据 每一个是完全不同的</span><br><span class="line"><span class="built_in">let</span> sym = Symbol(); </span><br><span class="line"><span class="built_in">let</span> sym2 = Symbol();</span><br><span class="line">typeof sym; //<span class="string">'symbol'</span></span><br><span class="line">sym == sym2; // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//Symbol可以接受一个参数(); 参数是对Symbol数据类型的描述</span><br><span class="line">//即使描述一样, 但是值也是不一样的 </span><br><span class="line"><span class="built_in">let</span> sym = Symbol(<span class="string">'fn'</span>);</span><br><span class="line"><span class="built_in">let</span> sym2 = Symbol(<span class="string">'fn'</span>);</span><br><span class="line">sym == sym2; // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//一般当做对象的属性； 任意一个Symbol得到的值都是不同的</span><br><span class="line"><span class="built_in">let</span> obj = &#123;</span><br><span class="line">	sym: <span class="string">'sunny'</span>,</span><br><span class="line">	[sym]: <span class="string">'sunny'</span></span><br><span class="line">&#125;</span><br><span class="line">obj.[sym2] = <span class="string">'sunny'</span>;</span><br><span class="line">console.log(obj); //得到三个不同的值</span><br><span class="line"></span><br><span class="line">//Symbol值不可以跟其他值计算</span><br><span class="line">//Symbol 不可以转化为数字</span><br><span class="line">//Symbol 不可以字符串拼接</span><br><span class="line">console.log(Symbol(<span class="string">'1'</span>) + 1); //报错</span><br><span class="line">Number(Symbol(1)); //报错</span><br><span class="line">Symbol(1) +<span class="string">'1'</span>;</span><br><span class="line"></span><br><span class="line">//可以转化为布尔值</span><br><span class="line">   !Symbol(<span class="string">'1'</span>); //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">   //可以toString变成显示字符串</span><br><span class="line">   console.log(Symbol(<span class="string">'ZF'</span>).toString()); // <span class="string">"Symbol('ZF')"</span></span><br><span class="line"></span><br><span class="line">   //Symbol.for() 如果之前有相同参数的Symbol的值, 找到这个值返回</span><br><span class="line">   //如果没有找到, 就创建一个新的Symbol值</span><br><span class="line">   <span class="built_in">let</span> foo = Symbol(<span class="string">'sunny'</span>);</span><br><span class="line">   <span class="built_in">let</span> foo2 = Symbol.for(<span class="string">'Sunny'</span>);</span><br><span class="line">   <span class="built_in">let</span> foo3 = Symbol.for(<span class="string">'Sunny'</span>);</span><br><span class="line">   foo == foo2; //<span class="literal">false</span></span><br><span class="line">   foo2 == foo3; // <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  // Symbol.keyFor(symbol值) 找到使用Symbol.keyFor()创建的值的描述</span><br><span class="line">  //如果使用的是Symbol创建的是获取不到的 </span><br><span class="line">  Symbol.keyFor(foo2); //sunny</span><br><span class="line">  Symbol.keyFor(foo); //undefined</span><br></pre></td></tr></table></figure>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">//类似数组 只有值val,  没有键key</span><br><span class="line">//通过构造函数方式, 创建一个<span class="built_in">set</span>实例</span><br><span class="line"> new Set(); //&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">//参数是一个数组 或者是类数组 只要是有enterable接口</span><br><span class="line">//有interable接口： 数组, arguments 元素集合 map  Set 字符串</span><br><span class="line">//特点： 会默认去重</span><br><span class="line">new Set([1, 2, 2]); // &#123;1, 2&#125;</span><br><span class="line"></span><br><span class="line">//size: <span class="built_in">set</span>实例的大小个数</span><br><span class="line">// add 增加 如果之前没有则添加上， 如果存在，不加; 返回值是增加后的<span class="built_in">set</span>实例(可以实现链式写法)</span><br><span class="line">//参数一次添加一个</span><br><span class="line"><span class="built_in">let</span>  <span class="built_in">set</span> = new Set([1, 2, null, <span class="literal">true</span>]);</span><br><span class="line">set.add(1).add(10).add(20, 300); // </span><br><span class="line"></span><br><span class="line">//delete(删除的值) 删除 返回值是<span class="literal">true</span>/<span class="literal">false</span> 如果里面有这一项就删除成功/<span class="literal">true</span>, 否则删除失败/<span class="literal">false</span></span><br><span class="line">set.delete(1);// <span class="literal">true</span></span><br><span class="line">set.delete(1000); //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//has 判断有没有这一项 返回值是<span class="literal">true</span>/<span class="literal">false</span></span><br><span class="line">set.has(NaN); //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">//clear 清空; 没有返回值 undefined</span><br><span class="line">set.clear(); //&#123; &#125;</span><br><span class="line"></span><br><span class="line">// forEach keys values entries 遍历方法</span><br><span class="line">set.forEach((item, index, input)=&gt;&#123;</span><br><span class="line">	//item, index 当前项</span><br><span class="line">	//input 当前<span class="built_in">set</span>实例</span><br><span class="line">	console.log(item, index); </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> key of set.keys()) &#123;</span><br><span class="line">	//key 是val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> value of set.values()) &#123;</span><br><span class="line">	//value 是val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> key of set.entries()) &#123;</span><br><span class="line">	//key 是val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="set使用场景"><a href="#set使用场景" class="headerlink" title="set使用场景"></a>set使用场景</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//数组去重</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> arr1 = [1, 3, 5, 8, 9];</span><br><span class="line"><span class="built_in">let</span> arr2 = [2, 4, 6, 8, 0];</span><br><span class="line"></span><br><span class="line">//并集</span><br><span class="line"><span class="keyword">function</span> add(arg, arg2) &#123;</span><br><span class="line">	<span class="built_in">return</span> [...new Set([...arg, ...arg2])]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//交集</span><br><span class="line"><span class="keyword">function</span> same(arg, arg2)&#123;</span><br><span class="line">	<span class="built_in">return</span> arr.filter(item=&gt;arg2.includes(item));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//差集   并集 - 交集</span><br><span class="line"><span class="keyword">function</span> diff(arg, arg2)  &#123;</span><br><span class="line">	<span class="built_in">return</span> add(arg, arg2).filter(item=&gt;!same(arg, aeg2).includes(item));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">//构造函数方式创建一个Map实例</span><br><span class="line">//参数是一个数组, 数组的每一项也是一个数组, 有两项key, value</span><br><span class="line">//属性名不可以重复</span><br><span class="line"><span class="built_in">let</span> map = new Map([[key, val], [] ])</span><br><span class="line"><span class="built_in">let</span> map = new Map([ [], [] ])</span><br><span class="line"></span><br><span class="line">//一个对象属性名必须是一个字符串, 如果写的不是字符串也默认转化为字符串</span><br><span class="line">//Map实例的 可以是任意数字类型</span><br><span class="line">//size: 键值对的个数</span><br><span class="line"><span class="built_in">let</span> map = new Map([[<span class="string">'name'</span>, <span class="string">'snuuy'</span>], [1, <span class="string">'money'</span>], [[1, 2], [1, 2]]]);</span><br><span class="line"></span><br><span class="line">//get(key) 获取value</span><br><span class="line">map.get(<span class="string">'name'</span>); //snuuy</span><br><span class="line"></span><br><span class="line">//<span class="built_in">set</span>(ke, vale); 之前有key, 会修改之前的value; 没有返回新的实例(可以链式写法)</span><br><span class="line">map.set(1, 2);</span><br><span class="line"></span><br><span class="line">//has(key); 判断key有没有对应的value; 返回<span class="literal">true</span>/<span class="literal">false</span></span><br><span class="line">map.has(1);</span><br><span class="line"></span><br><span class="line">//delete(key); 删除实例中的属性; 返回值<span class="literal">true</span>/<span class="literal">false</span></span><br><span class="line">map.delete(1);</span><br><span class="line"></span><br><span class="line">//clear 清空 没有返回值 </span><br><span class="line">map.clear();</span><br><span class="line"></span><br><span class="line">//forEach keys values entries 遍历方法</span><br><span class="line">map.forEach((val, key, input)=&gt;&#123;</span><br><span class="line">	console.log(val, key, input);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var key <span class="keyword">in</span> map.keys()) &#123;</span><br><span class="line">	console.log(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var value <span class="keyword">in</span> map.values()) &#123;</span><br><span class="line">	console.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var [key, val] <span class="keyword">in</span> map.entries()) &#123;</span><br><span class="line">	console.log(key, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//???数组变成Map实例</span><br><span class="line">var arr = [...];</span><br><span class="line"><span class="built_in">let</span> map = new Map();</span><br><span class="line"><span class="keyword">for</span>(var [key, val] of arr) &#123;</span><br><span class="line">	map.set(key, val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><p>对象默认操作拦截</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">//new Proxy(&#123;参数1:目标对象&#125;, &#123;参数2:拦截的方法&#125;); </span><br><span class="line"><span class="built_in">let</span> obj = &#123;name:<span class="string">'sunny'</span>&#125;;</span><br><span class="line"></span><br><span class="line">//让proxy代理了 obj; 需要通过proxy 操作代理的obj</span><br><span class="line"><span class="built_in">let</span> proxy = new Proxy(obj, &#123;</span><br><span class="line">	//get 只要是获取,  例如：proxy.name 就会触发get</span><br><span class="line">	get(target, key, proxy) &#123; // target:目标对象 key：属性名 proxty：当前实例</span><br><span class="line">		console.log(arguments);</span><br><span class="line">		//<span class="built_in">return</span> <span class="string">'cherry'</span></span><br><span class="line">		//<span class="built_in">return</span> 什么, 就获取什么, 或者就是undefined</span><br><span class="line">		<span class="built_in">return</span> target[key];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(proxy.name);//sunny</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> proxy = new Proxy(obj, &#123;</span><br><span class="line">	get(target, propKey, receiver) &#123;</span><br><span class="line">		<span class="built_in">return</span> target[propKey]</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="built_in">set</span>(target, propKey, value, receiver) &#123;</span><br><span class="line">		target[propKey] = value;</span><br><span class="line">		<span class="built_in">return</span> <span class="literal">true</span></span><br><span class="line">	&#125;,</span><br><span class="line">	has(target, propKey) &#123;</span><br><span class="line">		<span class="keyword">if</span>(propKey.startsWith(<span class="string">'_'</span>)) &#123;</span><br><span class="line">			<span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">return</span> propKey <span class="keyword">in</span> target;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="function"><span class="title">apply</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;) </span><br><span class="line">proxy.name = <span class="string">'cherry'</span>;</span><br><span class="line">consoel.log(obj);</span><br><span class="line"></span><br><span class="line">console.log(<span class="string">'name'</span> <span class="keyword">in</span> proxy);//<span class="literal">true</span></span><br><span class="line">console.log(<span class="string">'__proto__'</span> <span class="keyword">in</span> proxy);//<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;</span><br><span class="line">	<span class="built_in">return</span> &#123;name:<span class="string">'sunny'</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> proxy = new Proxy(fn,&#123;</span><br><span class="line">	apply(target, object, args) &#123;</span><br><span class="line">		//函数直接执行 call apply</span><br><span class="line">		//args 函数执行的参数</span><br><span class="line">		//object 给函数修改this</span><br><span class="line">		<span class="keyword">if</span>(object)&#123;</span><br><span class="line">			object.fn=target;</span><br><span class="line">			object.fn(...args);</span><br><span class="line">			delete object.fn;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			target(...args);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">proxy();</span><br></pre></td></tr></table></figure>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><p>class中的constructor<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Fn&#123;</span><br><span class="line">	constructor(x) &#123;</span><br><span class="line">		//this:当前实例</span><br><span class="line">		this.x = x; //增加私有属性</span><br><span class="line">		//<span class="built_in">return</span> 的是基本数据类型对实例没有影响, </span><br><span class="line">		//如果是引用数据类型 会改变实例</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> fn = new Fn(10); --&gt; &#123; x:10 &#125;</span><br><span class="line">// Fn();  类必须使用new执行, 不可以作为普通函数执行</span><br><span class="line">typeof Fn; // <span class="string">'function'</span></span><br><span class="line"></span><br><span class="line">//class的name问题</span><br><span class="line">class <span class="function"><span class="title">Fn</span></span>()&#123;</span><br><span class="line">	<span class="function"><span class="title">constructor</span></span>() &#123;</span><br><span class="line">		console.log(Fn.name); //Fn</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="title">getFn</span></span>() &#123;</span><br><span class="line">		console.log(Fn.name); //fn</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line"><span class="built_in">let</span> Fn1 = class <span class="function"><span class="title">Fn</span></span>()&#123;</span><br><span class="line">	//Fn 只能在类里面使用</span><br><span class="line">	<span class="function"><span class="title">constructor</span></span>() &#123;</span><br><span class="line">		console.log(Fn.name); //Fn  --&gt;就近原则</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line"><span class="built_in">let</span> fn = new Fn();</span><br></pre></td></tr></table></figure></p>
<p>class中的执行变量<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> person = new Person(<span class="string">'sunny'</span>);</span><br><span class="line"></span><br><span class="line">//采用class表达式让类执行</span><br><span class="line">// es6中class 和 <span class="built_in">let</span> const 一样没有变量提升</span><br><span class="line"><span class="built_in">let</span> person = new Class&#123;</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">		console.log(name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;(<span class="string">'sunny'</span>);</span><br></pre></td></tr></table></figure></p>
<p>class静态方法<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">//类就相当于原型, </span><br><span class="line">//写在原型上的方法都被实例继承</span><br><span class="line">//static关键字不会被实例继承 可以被子类继承</span><br><span class="line">class <span class="function"><span class="title">Person</span></span>() &#123;</span><br><span class="line">	<span class="function"><span class="title">constructor</span></span>() &#123;&#125;</span><br><span class="line">	<span class="function"><span class="title">getName</span></span>() &#123;</span><br><span class="line">		console.log(<span class="string">'sunny'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	static <span class="function"><span class="title">getAge</span></span>() &#123; //静态方法</span><br><span class="line">		console.log(<span class="string">'cherry'</span>); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Son extends Person&#123;</span><br><span class="line">	<span class="function"><span class="title">getPerson</span></span>() &#123;</span><br><span class="line">		super.getAge()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> person = new Person;</span><br><span class="line">person.getName(); // sunny</span><br><span class="line">person.getAge();</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> son = new Son;</span><br><span class="line">son.getPerson();</span><br><span class="line"></span><br><span class="line">//子类继承父类 子类中没有this; super执行完之后才会有this</span><br><span class="line">class A&#123;</span><br><span class="line">	constructor(x) &#123;</span><br><span class="line">		//super 父类的constructor</span><br><span class="line">		this.x = x;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="title">getX</span></span>() &#123;</span><br><span class="line">		console.log(this.x);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="title">getY</span></span>() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B extends A&#123;</span><br><span class="line">	constructor(x) &#123;</span><br><span class="line">		//super 执行不能写this</span><br><span class="line">		//super就是父类的constructor</span><br><span class="line">		super(x); </span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="function"><span class="title">getA</span></span>() &#123;</span><br><span class="line">		//super 指向父类的原型</span><br><span class="line">		super.<span class="function"><span class="title">getX</span></span>() &#123;&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	//static 父类的静态方法也可以继承</span><br><span class="line">	static <span class="function"><span class="title">getY</span></span>() &#123;</span><br><span class="line">		//super 指向父类本身</span><br><span class="line">		super.getY();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> a = new A(10);</span><br><span class="line">	<span class="built_in">let</span> b = new B(100);</span><br></pre></td></tr></table></figure></p>
<h3 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">//执行顺序：先执行new Promise中的函数 --&gt; 队列中同步代码 --&gt; <span class="keyword">then</span>中的回调函数</span><br><span class="line"><span class="built_in">let</span> pro = new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">	//resolve </span><br><span class="line">	//reject</span><br><span class="line">	//resolve 和 reject 只能执行一个</span><br><span class="line">	console.log(<span class="string">'promise'</span>)</span><br><span class="line">	resolve(<span class="string">'success'</span>);</span><br><span class="line">	reject(<span class="string">'error'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">//<span class="keyword">then</span>函数异步执行</span><br><span class="line">pro.then((res)=&gt;&#123;</span><br><span class="line">	//resolve 成功的回调</span><br><span class="line">&#125;,(e)=&gt;&#123;</span><br><span class="line">	//失败的回调</span><br><span class="line">	console.log(e);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//catch捕获错误异常 如果new promise中有错误被捕获</span><br><span class="line">//如果<span class="keyword">then</span>中回调有错误, 也会被捕获; 一般最后添加catch 不会一直向下<span class="keyword">then</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.dir(promise);</span><br><span class="line"></span><br><span class="line">//all </span><br><span class="line">//Promise.all([每一项都是Promise, 如果不是默认转化为Promise])</span><br><span class="line">// 一旦发现有一项是错误 就会走失败;</span><br><span class="line">//每一项都是成功 才会走成功回调; 默认将每一项的参数放在一个数组中, 传给回调函数</span><br><span class="line"><span class="built_in">let</span> pro = new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">	resolve(<span class="string">'ok'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">let</span> pro1 = new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">	reject(<span class="string">'error'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> pro2 = new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">	resolve(<span class="string">'ok'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> proAll = Promise.all([pro, pro1, pro2]);</span><br><span class="line">console.log(proAll);//----</span><br><span class="line">proAll.then((res)=&gt;&#123;</span><br><span class="line">	console.log(res); //[<span class="string">'ok'</span>, <span class="string">'ok'</span>]</span><br><span class="line">&#125;, catch(e)=&gt;&#123;</span><br><span class="line">	console.log(e)</span><br><span class="line">&#125;)	</span><br><span class="line"></span><br><span class="line">//race </span><br><span class="line">//只要有一个状态改变, 此时当前实例的状态就改变</span><br><span class="line">Promise.race([pro, pro1, pro2]).<span class="keyword">then</span>((res)=&gt;&#123;</span><br><span class="line">	console.log(res);</span><br><span class="line">&#125;, catch(e)=&gt;&#123;</span><br><span class="line">	console.log(e);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//实现promiseAll</span><br><span class="line"><span class="keyword">function</span> PromiseAll(promises) &#123;</span><br><span class="line">	<span class="built_in">return</span> new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">		<span class="built_in">let</span> index = 0;</span><br><span class="line">		<span class="built_in">let</span> res = Array(promises.length);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="built_in">let</span> i = 0; i&lt;promises.length;i++) &#123;</span><br><span class="line">			promises[i].<span class="keyword">then</span>(val =&gt; &#123;</span><br><span class="line">				index ++;</span><br><span class="line">				res[i] = val;</span><br><span class="line">				<span class="keyword">if</span>(index == promises.length) &#123;</span><br><span class="line">					resolve(res);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;, error =&gt; &#123;</span><br><span class="line">				reject(error);</span><br><span class="line">				<span class="built_in">return</span>;</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> p1 = new Promise(resolve =&gt; resolve(<span class="string">'p1'</span>));</span><br><span class="line"><span class="built_in">let</span> p2 = new Promise(resolve =&gt; resolve(<span class="string">'p2'</span>));</span><br><span class="line">//<span class="built_in">let</span> p3 = Promise.reject(<span class="string">'p3'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="async"><a href="#async" class="headerlink" title="async"></a>async</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//async 默认返回一个Promise对象</span><br><span class="line">async <span class="keyword">function</span> <span class="function"><span class="title">fn</span></span>() &#123;</span><br><span class="line">	//<span class="built_in">return</span>出的内容就是成功回调函数</span><br><span class="line">	//有错误就会被catch捕获到</span><br><span class="line">	<span class="built_in">return</span> <span class="string">'sunny'</span>;</span><br><span class="line">&#125;</span><br><span class="line">fn().<span class="keyword">then</span>((res)=&gt;&#123;</span><br><span class="line">	console.log(res); //sunny</span><br><span class="line">&#125;, catch(e) &#123;</span><br><span class="line">	console.log(e);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> p = new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">	resolve(<span class="string">'sunny'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">async <span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>() &#123;</span><br><span class="line">	//await 后面是一个promise实例, 如果不是也会转化为promise</span><br><span class="line">	//直接让promise实例的回调执行, 返回执行时的参数</span><br><span class="line">	//await 不用通过<span class="keyword">then</span>就可以拿到resolve或reject参数</span><br><span class="line">	console.log(await p); // sunny</span><br><span class="line">	//先将await 后面的异步执行完成后, 再执行后面的代码</span><br><span class="line">	<span class="built_in">let</span> a = await p;</span><br><span class="line">	console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">foo().<span class="keyword">then</span>((res)=&gt;&#123;</span><br><span class="line">	console.log(res);</span><br><span class="line">&#125;, catch(e)=&gt;&#123;</span><br><span class="line">	consoel.log(e);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;padding-top:20px;">———— / END / ————</div>
    
</div>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/archives/ab36bed0.html" rel="next" title="学习VueRouter">
                <i class="fa fa-chevron-left"></i> 学习VueRouter
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/archives/6644c399.html" rel="prev" title="优化网络请求性能节流与防抖">
                优化网络请求性能节流与防抖 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <!--a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a-->
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <!--a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a-->
    <!--a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a-->
    <!--a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a-->
    <!--a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a-->
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
  </div>


        </div>
        
          
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  京ICP备13052054号-1
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love animation-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">园子</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "http://blog.yuanbeauty.com",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  







  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    bp.src = (curProtocol === 'https') 
    ? 'https://zz.bdstatic.com/linksubmit/push.js'
    : 'http://push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


  

</body>
</html>
